â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        ØªØ±ØªÙŠØ¨ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª                                    â•‘
â•‘                   SERVICE STARTUP DEPENDENCY DIAGRAM                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© (INFRASTRUCTURE)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL    â”‚  Port: 5432
â”‚   Database     â”‚  â±ï¸  30-45 seconds
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ (required by all services)
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Service Registry       â”‚  Port: 8761 (Eureka)
â”‚ (Service Discovery)    â”‚  â±ï¸  30-40 seconds
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ (required by all services)
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Config Server        â”‚  Port: 8888
â”‚    (OPTIONAL)          â”‚  â±ï¸  30-40 seconds
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚


Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø¬Ø§Ù„ (CORE SERVICES)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Auth Service        â”‚  Port: 6061
â”‚  (Authentication)      â”‚  â±ï¸  60 seconds
â”‚  âš ï¸ CRITICAL           â”‚  âœ… START THIS FIRST
â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚ (required by Access Management)
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Access Management Service      â”‚  Port: 6062
â”‚ (RBAC / Permissions)           â”‚  â±ï¸  60-90 seconds
â”‚ âš ï¸ CRITICAL - WAIT FOR AUTH    â”‚  âš ï¸  IMPORTANT!
â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚

AND (in parallel with above):

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Reference Data Service â”‚  Port: 6063
â”‚ (Master Data)          â”‚  â±ï¸  60-90 seconds
â”‚ âœ… Can start anytime   â”‚  (No dependencies except DB)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚


Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ù†Ù‚Ø·Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ (API GATEWAY)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    All above services ready?
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   API Gateway        â”‚  Port: 6060
                    â”‚ (Central Entry Point)â”‚  â±ï¸  60 seconds
                    â”‚  âš ï¸ START LAST       â”‚  âœ… EVERYTHING DEPENDS ON THIS
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ØªØ±ØªÙŠØ¨ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

START HERE â†“

1ï¸âƒ£  PostgreSQL Database
    â””â”€ docker-compose up postgres -d
    â””â”€ â±ï¸  Wait: 30-45 seconds
    â””â”€ Health Check: pg_isready

2ï¸âƒ£  Service Registry (Eureka)
    â””â”€ docker-compose up service-registry -d
    â””â”€ â±ï¸  Wait: 30-40 seconds
    â””â”€ Health Check: http://localhost:8761/

3ï¸âƒ£  Config Server (OPTIONAL)
    â””â”€ docker-compose up config-server -d
    â””â”€ â±ï¸  Wait: 30-40 seconds
    â””â”€ Health Check: http://localhost:8888/actuator/health

4ï¸âƒ£  Auth Service âš ï¸ CRITICAL
    â””â”€ docker-compose up auth-service -d
    â””â”€ â±ï¸  Wait: 60 seconds (IMPORTANT - Don't skip this!)
    â””â”€ Health Check: http://localhost:6061/actuator/health
    â””â”€ Error if skipped: "Connection refused by Auth Service"

5ï¸âƒ£  Access Management Service âš ï¸ DEPENDS ON AUTH
    â””â”€ docker-compose up access-management-service -d
    â””â”€ â±ï¸  Wait: 60-90 seconds
    â””â”€ Health Check: http://localhost:6062/actuator/health
    â””â”€ Error if Auth not ready: "Service unavailable"

6ï¸âƒ£  Reference Data Service
    â””â”€ docker-compose up reference-data-service -d
    â””â”€ â±ï¸  Wait: 60-90 seconds
    â””â”€ Health Check: http://localhost:6063/management/health

7ï¸âƒ£  API Gateway âœ… START LAST
    â””â”€ docker-compose up gateway-service -d
    â””â”€ â±ï¸  Wait: 60 seconds
    â””â”€ Health Check: http://localhost:6060/actuator/health
    â””â”€ Error if others not ready: "Service not found in registry"

âœ… DONE! Total time: 5-7 minutes


Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ© Ù„Ù„ØªØ¨Ø¹ÙŠØ§Øª
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  PostgreSQL DB  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                         â”‚
                    â–¼                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Eureka     â”‚        â”‚  Config Srv  â”‚
              â”‚  (Registry)  â”‚        â”‚  (Optional)  â”‚
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚            â”‚            â”‚
        â–¼            â–¼            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Auth   â”‚  â”‚ Ref    â”‚  â”‚ Config â”‚
    â”‚Service â”‚  â”‚ Data   â”‚  â”‚ Server â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â”‚Service â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
        â”‚            â”‚
        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  Access Mgmt   â”‚
       â”‚   Service      â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  API Gateway   â”‚
       â”‚  (Entry Point) â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Ø§Ù„Ù…Ù†Ø§ÙØ° (PORTS)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

5432  â† PostgreSQL
8761  â† Service Registry (Eureka)
8888  â† Config Server
6061  â† Auth Service
6062  â† Access Management Service
6063  â† Reference Data Service
6060  â† API Gateway


Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Ø§Ø¨Ø¯Ø£ ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø£Ù…Ø± ÙˆØ§Ø­Ø¯
docker-compose up -d

# ÙØ­Øµ Ø§Ù„Ø­Ø§Ù„Ø©
docker-compose ps

# Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª
docker-compose logs -f

# Ø¥ÙŠÙ‚Ø§Ù ÙƒÙ„ Ø´ÙŠØ¡
docker-compose down

# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø®Ø¯Ù…Ø© ÙˆØ§Ø­Ø¯Ø©
docker-compose restart auth-service

# Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
docker-compose down -v


Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Database
docker-compose exec postgres pg_isready -U postgres

# Eureka
curl http://localhost:8761/actuator/health

# Auth Service
curl http://localhost:6061/actuator/health

# Access Management
curl http://localhost:6062/actuator/health

# Reference Data
curl http://localhost:6063/management/health

# API Gateway
curl http://localhost:6060/actuator/health


Ù…Ù„Ø®Øµ Ø§Ù„ØªØ±ØªÙŠØ¨
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ø§Ù„ØªØ±ØªÙŠØ¨  â”‚ Ø§Ù„Ø®Ø¯Ù…Ø©   â”‚ Ø§Ù„Ù…Ù†ÙØ°   â”‚ Ø§Ù„ÙˆÙ‚Øª   â”‚ Ù…Ù„Ø§Ø­Ø¸Ø§Øª    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   1ï¸âƒ£    â”‚ Database â”‚  5432    â”‚ 30-45s  â”‚ Ø£ÙˆÙ„Ù‰!      â”‚
â”‚   2ï¸âƒ£    â”‚ Eureka   â”‚  8761    â”‚ 30-40s  â”‚ Ø¶Ø±ÙˆØ±ÙŠ      â”‚
â”‚   3ï¸âƒ£    â”‚ Config   â”‚  8888    â”‚ 30-40s  â”‚ Ø§Ø®ØªÙŠØ§Ø±ÙŠ    â”‚
â”‚   4ï¸âƒ£    â”‚ Auth     â”‚  6061    â”‚ 60s     â”‚ âš ï¸ Ø§Ù†ØªØ¸Ø±   â”‚
â”‚   5ï¸âƒ£    â”‚ Access   â”‚  6062    â”‚ 60-90s  â”‚ âš ï¸ Ù…Ù‡Ù…     â”‚
â”‚   6ï¸âƒ£    â”‚ RefData  â”‚  6063    â”‚ 60-90s  â”‚ Ù…ØªÙˆØ§Ø²ÙŠ    â”‚
â”‚   7ï¸âƒ£    â”‚ Gateway  â”‚  6060    â”‚ 60s     â”‚ Ø£Ø®ÙŠØ±Ø§Ù‹!    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“Š Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: 5-7 Ø¯Ù‚Ø§Ø¦Ù‚


Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø®Ø§ØµØ©
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ø§Ù„Ø¨Ø¯Ø¡ Ø¨Ø³Ø±Ø¹Ø©:
   docker-compose up -d
   (Docker Ø³ÙŠØ­ØªØ±Ù… Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)

âœ… Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª ØªØ·ÙˆÙŠØ± Ø®Ø¯Ù…Ø© ÙˆØ§Ø­Ø¯Ø©:
   docker-compose up postgres service-registry auth-service -d
   java -jar access-management-service/target/*.jar

âœ… Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª ØªØ¬Ù†Ø¨ ÙƒÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡:
   Ø§ØªØ¨Ø¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ÙŠØ¯ÙˆÙŠØ© Ø£Ø¹Ù„Ø§Ù‡ Ø¨Ø­Ø°Ø±

âŒ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªÙŠ Ù‚Ø¯ ØªØ­Ø¯Ø«:

   "Connection refused"
   â†’ Auth Service Ù„Ù… ØªØ¨Ø¯Ø£ Ø¨Ø¹Ø¯ (Ø§Ù†ØªØ¸Ø± 60 Ø«Ø§Ù†ÙŠØ©)

   "Service not registered"
   â†’ Eureka Ù„Ù… ØªØ¨Ø¯Ø£ (Ø§Ø¨Ø¯Ø£ Service Registry Ø£ÙˆÙ„Ø§Ù‹)

   "Database connection failed"
   â†’ PostgreSQL Ù„Ù… ØªØ¨Ø¯Ø£ (Ø§Ø¨Ø¯Ø£ Database Ø£ÙˆÙ„Ø§Ù‹)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ’¡ Ù†ØµÙŠØ­Ø©: Ø§Ø³ØªØ®Ø¯Ù… docker-compose up -d Ø£ÙˆÙ„Ø§Ù‹ØŒ ÙˆØ¥Ø°Ø§ Ø­Ø¯Ø«Øª Ù…Ø´Ø§ÙƒÙ„ØŒ Ø§ØªØ¨Ø¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª
          Ø§Ù„ÙŠØ¯ÙˆÙŠØ©. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø³Ø¬Ù„Ø§Øª: docker-compose logs <service-name>
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Created: 2025-11-04 | Status: Ready to Use | Language: Arabic/English
